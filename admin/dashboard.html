<!doctype html>
<html><head><meta charset="utf-8"><title>Admin Dashboard</title></head><body>
<h1>Admin Dashboard</h1>
<div id="info"></div>
<button id="logout">Logout</button>
<script>
async function load(){
  const token = localStorage.getItem('adminToken');
  if(!token) return location.href='/admin/login.html';
  const res = await fetch('/api/admin/dashboard?token='+token);
  const json = await res.json();
  if(json.error) return location.href='/admin/login.html';
  document.getElementById('info').textContent = JSON.stringify(json.admin, null, 2);
}
document.getElementById('logout').addEventListener('click', async ()=>{
  const token = localStorage.getItem('adminToken');
  await fetch('/api/admin/logout', { method: 'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ token }) });
  localStorage.removeItem('adminToken');
  location.href='/admin/login.html';
});
load();
</script>
</body></html>
